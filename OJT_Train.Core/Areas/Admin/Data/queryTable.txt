CREATE DATABASE OJT_TRAIN_G5;
USE OJT_TRAIN_G5;
GO
CREATE TABLE [ROLE]
(
ROLEID INT IDENTITY(1,1) PRIMARY KEY,
ROLENAME NVARCHAR(255),
);
GO
CREATE TABLE ACCOUNT(
USERID INT IDENTITY(1,1) PRIMARY KEY,
USERNAME VARCHAR(100),
[PASSWORD] VARCHAR(MAX),
EMAIL VARCHAR(255),
FULLNAME NVARCHAR(255),
[ADDRESS] NVARCHAR(255),
PHONE VARCHAR(12),
DATEOFBIRTH DATE,
[IMAGE] VARCHAR(255),
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
[TIMESTAMP] DATETIME,
ISBLOCKED BIT,
ISACTIVED BIT,
ISDELETED BIT,
ROLEID INT,
FOREIGN KEY (ROLEID) REFERENCES [ROLE](ROLEID)
);
GO
CREATE TABLE CATEGORY(
CATEGORYID INT IDENTITY(1,1) PRIMARY KEY,
CATEGORYNAME NVARCHAR(100),
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
ISPUBLISHED BIT,
ISDELETED BIT,
);
GO
CREATE TABLE PRODUCT(
PRODUCTID INT IDENTITY(1,1) PRIMARY KEY,
PRODUCTNAME NVARCHAR(255),
MEMORY VARCHAR(100),
PRICEOLD INT,
PRICENEW INT,
PRODUCTDETAIL NVARCHAR(MAX),
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
ISPUBLISHED BIT,
ISDELETED BIT,
CATEGORYID INT,
FOREIGN KEY (CATEGORYID) REFERENCES CATEGORY(CATEGORYID)
);
GO
CREATE TABLE IMAGEPRODUCT(
	IMAGEID INT PRIMARY KEY IDENTITY(1,1),
	IMGPRODUCT VARCHAR(1000),
	PRODUCTID INT FOREIGN KEY REFERENCES PRODUCT(PRODUCTID),
	ISDELETED BIT
);
GO
CREATE TABLE [ORDER](
ORDERID INT IDENTITY(1,1) PRIMARY KEY,
ORDERPRICE BIGINT,
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
[ADDRESS] NVARCHAR(200),
PAYMENTDATE DATETIME,
ORDERSTATUS NVARCHAR(50),
ISDELETED BIT,
USERID INT,
FOREIGN KEY (USERID) REFERENCES ACCOUNT(USERID)
);
GO
CREATE TABLE ORDERDETAIL(
ORDERDETAILID INT IDENTITY(1,1) PRIMARY KEY,
PRODUCTID INT,
QUANTITY INT,
PRICE INT,
ORDERID INT,
FOREIGN KEY (PRODUCTID) REFERENCES PRODUCT(PRODUCTID),
FOREIGN KEY (ORDERID) REFERENCES [ORDER](ORDERID),
);
GO
CREATE TABLE COMMENT(
COMMENTID INT IDENTITY(1,1) PRIMARY KEY,
COMMENTTITLE NVARCHAR (100),
COMMENTCONTENT NVARCHAR(200),
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
ISPUBLISHED BIT,
ISDELETED BIT,
PRODUCTID INT,
USERID INT,
FOREIGN KEY (USERID) REFERENCES ACCOUNT(USERID),
FOREIGN KEY (PRODUCTID) REFERENCES PRODUCT(PRODUCTID)
);
GO
CREATE TABLE COUPON(
COUPONID INT IDENTITY(1,1) PRIMARY KEY,
COUPONCODE VARCHAR(50),
COUPONVALUE INT,
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
ISDELETED BIT,
);
GO
CREATE TABLE INVENTORY(
INVENTORYID INT IDENTITY(1,1) PRIMARY KEY,
INVENTORYNAME NVARCHAR(255)
);
GO
CREATE TABLE INVENTORYDETAIL(
INVENTORYDETAIID INT IDENTITY(1,1) PRIMARY KEY,
IMPORTEDDATE NVARCHAR(255),
TOTALIMPORT INT,
DELIVERED INT,
REMAINING INT,
PRODUCTID INT,
INVENTORYID INT,
FOREIGN KEY (PRODUCTID) REFERENCES PRODUCT(PRODUCTID),
FOREIGN KEY (INVENTORYID) REFERENCES INVENTORY(INVENTORYID)
);
GO
CREATE TABLE SALE(
SALEID INT IDENTITY(1,1) PRIMARY KEY,
PRODUCTID INT,
QUANTITY INT ,
UNITPRICE INT,
CREATEDDATE DATETIME,
MODIFIEDDATE DATETIME,
CREATEDBY VARCHAR(50),
MODIFIEDBY VARCHAR(50),
ISDELETED BIT,
FOREIGN KEY (PRODUCTID) REFERENCES PRODUCT(PRODUCTID)
);

ALTER TABLE PRODUCT
ADD IMAGEPRODUCT VARCHAR(500);
